[gd_scene load_steps=10 format=1]

[ext_resource path="res://character_menu.gd" type="Script" id=1]
[ext_resource path="res://characters/human_male.scn" type="PackedScene" id=2]
[ext_resource path="res://characters/pedestal.msh" type="Mesh" id=3]
[ext_resource path="res://default_env.tres" type="Environment" id=4]
[ext_resource path="res://character_panel.gd" type="Script" id=5]
[ext_resource path="res://fonts/ui_font.fnt" type="BitmapFont" id=6]
[ext_resource path="res://character_edit_panel.gd" type="Script" id=7]
[ext_resource path="res://addons/gamejolt_api/gjapi.gd" type="Script" id=8]
[ext_resource path="res://addons/gamejolt_api/gj_icon.png" type="Texture" id=9]

[node name="root" type="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
script/script = ExtResource( 1 )

[node name="model" type="Spatial" parent="."]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )

[node name="human_male" parent="model" instance=ExtResource( 2 )]

editor/display_folded = true

[node name="BoneAttachment" parent="model/human_male/MaleArm/Skeleton"]

transform/local = Transform( 1, -2.35018e-07, 3.98944e-08, -4.50742e-08, -0.170511, -0.988453, 2.38243e-07, 0.985443, -0.17001, 1.73968e-08, 1.59548, -0.0654221 )

[node name="BoneAttachment2" parent="model/human_male/MaleArm/Skeleton"]

transform/local = Transform( -0.0763127, -0.0368275, -0.996404, -0.0372105, 1.00178, -0.0341762, 0.996393, 0.0343824, -0.0775826, 0.7181, 1.49801, -0.0987025 )

[node name="MeshInstance" type="MeshInstance" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.11186, 0 )
layers = 1
geometry/visible = true
geometry/material_override = null
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
mesh/mesh = ExtResource( 3 )
mesh/skeleton = NodePath("..")
material/0 = null

[node name="Camera" type="Camera" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 0.982184, 0, -0.187922, -0.0114531, 0.998141, -0.0598602, 0.187573, 0.060946, 0.980358, -3.53333, 0.606358, 5.27355 )
projection = 0
fov = 60.0
near = 0.1
far = 100.0
keep_aspect = 1
current = false
visible_layers = 1048575
environment = ExtResource( 4 )
h_offset = 0.0
v_offset = 0.0

[node name="lights" type="Spatial" parent="."]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.69935, 0, 0 )

[node name="sun" type="DirectionalLight" parent="lights"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 0.83856, -0.432205, 0.331685, 0, 0.608811, 0.793315, -0.544809, -0.665243, 0.510525, 0, 0, 0 )
layers = 1
params/enabled = true
params/editor_only = false
params/bake_mode = 0
params/energy = 1.0
colors/diffuse = Color( 1, 0.982208, 0.792969, 1 )
colors/specular = Color( 1, 1, 1, 1 )
shadow/shadow = true
shadow/darkening = 0.0
shadow/z_offset = 0.05
shadow/z_slope_scale = 0.0
shadow/esm_multiplier = 60.0
shadow/blur_passes = 1.0
projector = null
operator = 0
shadow/mode = 0
shadow/max_distance = 0.0
shadow/split_weight = 0.5
shadow/zoffset_scale = 2.0

[node name="sky" type="DirectionalLight" parent="lights"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -0.374519, -0.682924, 0.627177, -0.0837941, 0.698567, 0.710621, -0.923425, 0.213587, -0.318851, 7.25754, 0, 0 )
layers = 1
params/enabled = true
params/editor_only = false
params/bake_mode = 0
params/energy = 0.6
colors/diffuse = Color( 0.34375, 0.892334, 1, 1 )
colors/specular = Color( 1, 1, 1, 1 )
shadow/shadow = true
shadow/darkening = 0.0
shadow/z_offset = 0.05
shadow/z_slope_scale = 0.0
shadow/esm_multiplier = 60.0
shadow/blur_passes = 1.0
projector = null
operator = 0
shadow/mode = 0
shadow/max_distance = 0.0
shadow/split_weight = 0.5
shadow/zoffset_scale = 2.0

[node name="sky2" type="DirectionalLight" parent="lights"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 0.581828, 0.613245, -0.534235, -0.0837941, 0.698567, 0.710621, 0.808983, -0.368694, 0.457832, 7.25754, 0, 0 )
layers = 1
params/enabled = true
params/editor_only = false
params/bake_mode = 0
params/energy = 0.2
colors/diffuse = Color( 0.27626, 0.996094, 0.371863, 1 )
colors/specular = Color( 1, 1, 1, 1 )
shadow/shadow = true
shadow/darkening = 0.0
shadow/z_offset = 0.05
shadow/z_slope_scale = 0.0
shadow/esm_multiplier = 60.0
shadow/blur_passes = 1.0
projector = null
operator = 0
shadow/mode = 0
shadow/max_distance = 0.0
shadow/split_weight = 0.5
shadow/zoffset_scale = 2.0

[node name="character_panel" type="Control" parent="."]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 31.0
margin/top = 49.0
margin/right = 238.0
margin/bottom = 205.0
script/script = ExtResource( 5 )
__meta__ = { "_edit_group_":true }

[node name="HBoxContainer" type="VBoxContainer" parent="character_panel"]

focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 240.0
margin/bottom = 500.0
alignment = 0

[node name="Label" type="Label" parent="character_panel/HBoxContainer"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 0.0
margin/top = 0.0
margin/right = 240.0
margin/bottom = 21.0
custom_fonts/font = ExtResource( 6 )
text = "Characters"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="Panel" type="Panel" parent="character_panel/HBoxContainer"]

rect/min_size = Vector2( 240, 360 )
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 0.0
margin/top = 25.0
margin/right = 240.0
margin/bottom = 452.0

[node name="ScrollContainer" type="ScrollContainer" parent="character_panel/HBoxContainer/Panel"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 0.0
margin/top = 0.0
margin/right = 240.0
margin/bottom = 449.0
scroll/horizontal = true
scroll/vertical = true

[node name="characters" type="VBoxContainer" parent="character_panel/HBoxContainer/Panel/ScrollContainer"]

focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 0.0
margin/top = 0.0
margin/right = 0.0
margin/bottom = 0.0
alignment = 0

[node name="HBoxContainer" type="HBoxContainer" parent="character_panel/HBoxContainer"]

editor/display_folded = true
focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 3
size_flags/vertical = 2
margin/left = 0.0
margin/top = 456.0
margin/right = 240.0
margin/bottom = 476.0
alignment = 0

[node name="new_char" type="Button" parent="character_panel/HBoxContainer/HBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 77.0
margin/bottom = 20.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
text = "New"
flat = false

[node name="edit_char" type="Button" parent="character_panel/HBoxContainer/HBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 2
margin/left = 81.0
margin/top = 0.0
margin/right = 158.0
margin/bottom = 20.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
text = "Edit"
flat = false

[node name="delete_char" type="Button" parent="character_panel/HBoxContainer/HBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 2
margin/left = 162.0
margin/top = 0.0
margin/right = 240.0
margin/bottom = 20.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
text = "Delete"
flat = false

[node name="play_btn" type="Button" parent="character_panel/HBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 2
margin/left = 0.0
margin/top = 480.0
margin/right = 240.0
margin/bottom = 500.0
disabled = true
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
text = "Play"
flat = false

[node name="character_edit_panel" type="Control" parent="."]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 449.0
margin/top = 225.0
margin/right = 489.0
margin/bottom = 265.0
script/script = ExtResource( 7 )

[node name="ConfirmationDialog" type="ConfirmationDialog" parent="character_edit_panel"]

visibility/visible = false
anchor/left = 3
anchor/top = 3
anchor/right = 3
anchor/bottom = 3
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 20.0
margin/top = 20.0
margin/right = -261.0
margin/bottom = -151.0
popup/exclusive = true
window/title = "Create Character"
dialog/hide_on_ok = true

[node name="VBoxContainer" type="VBoxContainer" parent="character_edit_panel/ConfirmationDialog"]

focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 0.0
margin/top = 0.0
margin/right = 281.0
margin/bottom = 136.0
alignment = 0

[node name="name" type="HBoxContainer" parent="character_edit_panel/ConfirmationDialog/VBoxContainer"]

hint/tooltip = "What is your name\?"
focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 281.0
margin/bottom = 24.0
alignment = 0

[node name="Label" type="Label" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/name"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 1
margin/left = 0.0
margin/top = 5.0
margin/right = 138.0
margin/bottom = 19.0
text = "Character Name"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="name_edit" type="LineEdit" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/name"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 142.0
margin/top = 0.0
margin/right = 281.0
margin/bottom = 24.0
placeholder/text = "name"
placeholder/alpha = 0.6
expand_to_len = false
focus_mode = 2
caret/caret_blink = false
caret/caret_blink_speed = 0.65

[node name="purity" type="HBoxContainer" parent="character_edit_panel/ConfirmationDialog/VBoxContainer"]

editor/display_folded = true
hint/tooltip = "How pure is your soul\?"
focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 28.0
margin/right = 281.0
margin/bottom = 44.0
alignment = 0

[node name="Label" type="Label" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/purity"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 1
margin/left = 0.0
margin/top = 1.0
margin/right = 138.0
margin/bottom = 15.0
text = "Purity"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="purity_slr" type="HSlider" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/purity"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 142.0
margin/top = 0.0
margin/right = 281.0
margin/bottom = 16.0
range/min = 0.0
range/max = 10.0
range/step = 1.0
range/page = 0.0
range/value = 1.0
range/exp_edit = false
range/rounded = true
tick_count = 6
ticks_on_borders = false
focus_mode = 2

[node name="luck" type="HBoxContainer" parent="character_edit_panel/ConfirmationDialog/VBoxContainer"]

editor/display_folded = true
hint/tooltip = "How lucky are you\?"
focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 48.0
margin/right = 281.0
margin/bottom = 64.0
alignment = 0

[node name="Label" type="Label" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/luck"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 1
margin/left = 0.0
margin/top = 1.0
margin/right = 138.0
margin/bottom = 15.0
text = "Luck"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="luck_slr" type="HSlider" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/luck"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 142.0
margin/top = 0.0
margin/right = 281.0
margin/bottom = 16.0
range/min = 0.0
range/max = 10.0
range/step = 1.0
range/page = 0.0
range/value = 1.0
range/exp_edit = false
range/rounded = true
tick_count = 6
ticks_on_borders = false
focus_mode = 2

[node name="intimidation" type="HBoxContainer" parent="character_edit_panel/ConfirmationDialog/VBoxContainer"]

editor/display_folded = true
hint/tooltip = "How strong do you seem to others\?"
focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 68.0
margin/right = 281.0
margin/bottom = 84.0
alignment = 0

[node name="Label" type="Label" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/intimidation"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 1
margin/left = 0.0
margin/top = 1.0
margin/right = 138.0
margin/bottom = 15.0
text = "Intimidation"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="intimidation_slr" type="HSlider" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/intimidation"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 142.0
margin/top = 0.0
margin/right = 281.0
margin/bottom = 16.0
range/min = 0.0
range/max = 10.0
range/step = 1.0
range/page = 0.0
range/value = 1.0
range/exp_edit = false
range/rounded = true
tick_count = 6
ticks_on_borders = false
focus_mode = 2

[node name="resistance" type="HBoxContainer" parent="character_edit_panel/ConfirmationDialog/VBoxContainer"]

editor/display_folded = true
hint/tooltip = "How well do you resist disease and poison\?"
focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 88.0
margin/right = 281.0
margin/bottom = 104.0
alignment = 0

[node name="Label" type="Label" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/resistance"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 1
margin/left = 0.0
margin/top = 1.0
margin/right = 138.0
margin/bottom = 15.0
text = "Resistance"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="resistance_slr" type="HSlider" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/resistance"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 142.0
margin/top = 0.0
margin/right = 281.0
margin/bottom = 16.0
range/min = 0.0
range/max = 10.0
range/step = 1.0
range/page = 0.0
range/value = 1.0
range/exp_edit = false
range/rounded = true
tick_count = 6
ticks_on_borders = false
focus_mode = 2

[node name="HSeparator" type="HSeparator" parent="character_edit_panel/ConfirmationDialog/VBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 108.0
margin/right = 281.0
margin/bottom = 111.0

[node name="cost" type="HBoxContainer" parent="character_edit_panel/ConfirmationDialog/VBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 115.0
margin/right = 281.0
margin/bottom = 129.0
alignment = 0

[node name="Label" type="Label" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/cost"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 1
margin/left = 0.0
margin/top = 0.0
margin/right = 91.0
margin/bottom = 14.0
text = "Cost"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="cost_lbl" type="Label" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/cost"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 95.0
margin/top = 0.0
margin/right = 186.0
margin/bottom = 14.0
text = "<cost>"
align = 2
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="max_cost_lbl" type="Label" parent="character_edit_panel/ConfirmationDialog/VBoxContainer/cost"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 190.0
margin/top = 0.0
margin/right = 281.0
margin/bottom = 14.0
text = "of <max>"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="HSeparator2" type="HSeparator" parent="character_edit_panel/ConfirmationDialog/VBoxContainer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 133.0
margin/right = 281.0
margin/bottom = 136.0

[node name="GameJoltAPI" type="HTTPRequest" parent="."]

use_threads = true
body_size_limit = -1
max_redirects = 8
script/script = ExtResource( 8 )
__meta__ = { "_editor_icon":ExtResource( 9 ) }
private_key = "707dbf9c5377afafa5f15ea563bebfd3"
game_id = "211986"

[node name="Button" type="Button" parent="."]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 12.0
margin/bottom = 20.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
text = "Log Out"
flat = false

[connection signal="pressed" from="character_panel/HBoxContainer/HBoxContainer/new_char" to="character_panel" method="_on_new_char_pressed"]

[connection signal="pressed" from="character_panel/HBoxContainer/HBoxContainer/delete_char" to="character_panel" method="_on_delete_char_pressed"]

[connection signal="pressed" from="character_panel/HBoxContainer/play_btn" to="character_panel" method="_on_play_btn_pressed"]

[connection signal="create_character" from="character_edit_panel" to="character_panel" method="_on_character_edit_panel_create_character"]

[connection signal="confirmed" from="character_edit_panel/ConfirmationDialog" to="character_edit_panel" method="_on_confirmed"]

[connection signal="api_data_fetched" from="GameJoltAPI" to="character_panel" method="_on_GameJoltAPI_api_data_fetched"]

[connection signal="api_data_got_keys" from="GameJoltAPI" to="character_panel" method="_on_GameJoltAPI_api_data_got_keys"]

[connection signal="api_data_set" from="GameJoltAPI" to="character_panel" method="_on_GameJoltAPI_api_data_set"]

[connection signal="pressed" from="Button" to="." method="_on_logout"]


[editable path="model/human_male"]
